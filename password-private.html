<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <title>Nhập mật khẩu - Tống Trần Kiên</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: #4a5d6e;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
            }
            .container {
                background-color: #2c3e50;
                padding: 20px;
                border-radius: 10px;
                text-align: center;
                color: #ecf0f1;
                width: 400px;
            }
            h2 {
                margin: 0 0 10px;
                font-size: 1.5em;
            }
            p {
                font-size: 0.9em;
                margin: 10px 0;
            }
            input[type="password"] {
                padding: 10px;
                width: 80%;
                margin: 10px 0;
                border: none;
                border-radius: 5px;
            }
            button {
                padding: 10px 20px;
                background-color: #3498db;
                color: white;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                font-size: 1em;
            }
            button:hover {
                background-color: #2980b9;
            }
            #message {
                color: #e74c3c;
                margin-top: 10px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h2>Nhập mật khẩu - Security Code</h2>
            <p>Liên kết này đã được chủ sở hữu đặt mật khẩu bảo vệ. Vui lòng nhập mật khẩu bạn được cung cấp để mở khóa.</p>
            <form id="passwordForm">
                <input type="password" id="password" placeholder="Vui lòng nhập mật khẩu của bạn" required />
                <button type="submit">Mở khóa</button>
            </form>
            <p id="message"></p>
        </div>
        <script>
            // Giá trị băm SHA-256 của mật khẩu ""
            const correctPasswordHash = "9228577b16f5d405b656a2c4d11bb2bfcdb454ee800eba853f3c01a90d99f782";
            // URL đích mã hóa
            const encryptedTargetUrl = "U2FsdGVkX1+cZQIlsVj+4HV6GgYSvJO+/U4Wf+HDQdvmQq2U1PNKi50aK34urkf+Z+X5V5Yf30YAV7QYmrTP+swrXh/KMu8hrtsH31tXXjqraBI9JpZ3k9yo4SxOoJkqh4rSE/hb0VJHV3uU7GHgn3l06IoHvD8/kiT2e16/Bls=";

            document.getElementById("passwordForm").addEventListener("submit", function (event) {
                event.preventDefault();
                const enteredPassword = document.getElementById("password").value;
                const message = document.getElementById("message");

                // Băm mật khẩu người dùng nhập
                const enteredPasswordHash = CryptoJS.SHA256(enteredPassword).toString();

                if (enteredPasswordHash === correctPasswordHash) {
                    try {
                        // Giải mã URL đích bằng mật khẩu người dùng nhập
                        const bytes = CryptoJS.AES.decrypt(encryptedTargetUrl, enteredPassword);
                        const targetUrl = bytes.toString(CryptoJS.enc.Utf8);
                        if (targetUrl) {
                            window.location.href = targetUrl;
                        } else {
                            message.textContent = "Lỗi giải mã URL. Vui lòng kiểm tra lại.";
                        }
                    } catch (e) {
                        message.textContent = "Mật khẩu không đúng!";
                    }
                } else {
                    message.textContent = "Mật khẩu không đúng!";
                }
            });
        </script>

    <!-- 
    
    CÁCH MÃ HÓA KHI MUỐN THAY ĐỔI MẬT KHẨU HOẶC URL ĐÍCH:

    B1: Truy cập website: https://jsfiddle.net/

    B2: Ô html dán vào đoạn mã sau:

    <script src="https://cdn.jsdelivr.net/gh/tongtrankien1605/tongtrankien1605@main/global/library-code/crypto-js-4.1.1.min.js"></script>

    B3: Ô javascript dán vào đoạn mã sau:

    // Thay bằng mật khẩu và URL mới
    var password = "Mật khẩu bạn muốn"; // Thay bằng mật khẩu bạn muốn
    var url = "URL đích bạn muốn"; // Thay bằng URL đích mới

    // Tạo giá trị băm (SHA-256) và chuỗi mã hóa (AES)
    console.log("Hash:", CryptoJS.SHA256(password).toString());
    console.log("Encrypted URL:", CryptoJS.AES.encrypt(url, password).toString());

    -->

</body>
</html>
